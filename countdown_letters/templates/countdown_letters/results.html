{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}
  <div class="countdown-photo">
    <img src="https://wl-portfolio.s3.eu-west-2.amazonaws.com/post_images/countdown.png"
    alt="countdown">
  </div>
  <div class="countdown-text">
    <div class="game-subheading">
      Game Letters
    </div>
    <div class="letters-selected">
      {{ request.GET.letters_chosen }}
    </div><br>
    <div class="game-subheading">
      Game Results
    </div>
    <div class="scores-message">
      {% if eligible_answer %}
        &#8627; You found a {{ player_word_len }}-lettered word and scored {{ player_score }} points<br>
      {% else %}
        &#8627; Your answer is <u>not</u> eligible, therefore you scored no points<br>
      {% endif %}
        &#8627; Susie found a {{ comp_word_len }}-lettered word and scored {{ comp_score }} points<br>
        &#8627; <b>Result: </b>{{ result }}
    </div>
    <div id="alert-answer" class="alert-info">
      <div class="player-answer">
        <table width="100%">
          <tr>
            <th class="player-desc">
              <p class="player-desc">My Word: </p>
            </th>
            <th class="player-word">
              <p class="player-word">{{ players_word|upper }}</p>
            </th>
          </tr>
          <tr>
            <th class="susie-desc">
              <p class="susie-desc">Susie's Word: </p>
            </th>
            <th class="susie-word">
              <p>{{ comp_word }}</p>
            </th>
          </tr>
        </table>
      </div>
    </div><br>
    <div class="alert alert-success" role="alert" id="word-definition-box">
    <table>
      <tr>
        <th class="col-1">
          <p class="winning-word">{{ definition_result.alt_word_lookup|lower|capfirst }}</p>
        </th>
        <th class="col-2"><p class="word-class">{{ definition_result.word_class }}</p></th>
      </tr>
    </table>
        <p class="word-definition">{{ definition_result.definition }}</p><br>
        <em class="small">(British - English)</em>
    </div>
    <div class="scores-message">
      {% if player_word_len > comp_word_len %}
        Wow, you did great! Congratulations!!
      {% elif comp_word_len > player_word_len %}
        You must try harder to beat our resident lexicographer!
      {% else %}
        Impressive. You went toe-to-toe with Susie! Keep at it!
      {% endif %}
    </div>
    <p class="start-again-button">
      <a href="{% url 'countdown-letters:selection' %}" class="btn btn-sm btn-success mr-10" id="btn-start-again">
        <i class="fa fa-repeat"></i>
        Start Again
      </a>
    </p>
    <h6>The code for this 'Countdown: Letters Game' application can be seen 
      <a href="https://github.com/WayneLambert/portfolio/blob/master/countdown_letters/views.py"
      target="_blank">here</a>.
    </h6><br>
  </div>
{% endblock content %}
