{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% load template_helpers %}

{% block content %}
  <div class="countdown-photo">
    <img src="https://wl-portfolio.s3.eu-west-2.amazonaws.com/post_images/countdown.png"
    alt="countdown">
  </div>
  <div class="countdown-text">
    <h6>The target number was ...</h6><br>
    <div class="numbers-selected">
      {{ request.GET.target_number }}
    </div><br>
    <div class="game-subheading">
      Game Numbers
    </div>
    <div class="numbers-selected">
      {{ request.GET.numbers_chosen|remove_brackets }}
    </div><br>
    <div class="game-subheading">
      Your Calculation
    </div>
    <div class="numbers-selected">
      {{ request.GET.players_calculation|change_symbols }} = {{ player_num_achieved }}
    </div><br>
    <div class="game-subheading">
      Carol's Calculation
    </div>
    <div class="numbers-selected">
      {{ solution_str }}
    </div><br>
    <div class="game-subheading">
      Game Results
    </div>
    <div class="scores-message">
      {% if valid_calc %}
        &#8627; You scored {{ player_score }} points<br>
      {% else %}
        &#8627; Your answer is <u>not</u> valid, therefore you scored no points<br>
      {% endif %}
        &#8627; Carol scored {{ comp_score }} points<br>
        &#8627; <b>Result: </b>
        {% if game_result == 'comp_num_achieved' %}
          Carol wins
        {% elif game_result == 'player_num_achieved' %}
          You win
        {% endif %}
    </div>

    <p class="start-again-button">
      <a href="{% url 'countdown-numbers:selection' %}" class="btn btn-sm btn-success mr-10" id="btn-start-again">
        <i class="fa fa-repeat"></i>
        Start Again
      </a>
    </p>
    <h6>The code for this 'Countdown: Numbers Game' application can be seen 
      <a href="https://github.com/WayneLambert/portfolio/blob/master/countdown_numbers/views.py"
      target="_blank">here</a>.
    </h6><br>
  </div>
{% endblock content %}
